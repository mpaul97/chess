 <div class="game">
  <div class="game-container">

    <div class="taken-container">
      <div class="taken-piece"*ngFor="let pieceInfo of takenPieces">
        <app-piece [info]="pieceInfo" [isTaken]="true"></app-piece>
      </div>
    </div> 
    <div class="content">
      <div class="container" [ngStyle]="{'flex-direction': this.userInfo.color === 'White' ? 'column' : 'column-reverse'}">
        <div class="space" *ngFor="let space of allSpaces" [ngClass]="{ 'dark' : (space.x + space.y) % 2 !== 0 }" (click)="spaceClicked(space.file, space.rank)">
          <p class="space-name">{{ space.file }}{{ space.rank }}</p>
          <div class="piece-container" *ngFor="let pieceInfo of pieces">
            <app-piece *ngIf="pieceInfo.file === space.file && pieceInfo.rank === space.rank" [info]="pieceInfo"></app-piece>
          </div>
          <!-- <div class="playable hasPiece" *ngIf="space.hasPiece"></div> -->
          <div class="playable" *ngIf="isPlayable(space.file, space.rank)" [ngClass]="{ 'isTakeable' : space.isTakeable}"></div>
        </div>
      </div>
    </div>
  </div>

  <div class="side-container">

    <div class="player-information-container"> 
      <div class="player-information">
        <p-avatar label="{{this.gameInfo.players.playerOne.username[0].toUpperCase()}}" size="xlarge" shape="circle"></p-avatar>
        <span><b>{{this.gameInfo.players.playerOne.username}}</b></span>
      </div>
      <h3>VS</h3>
      <div class="player-information">
        <p-avatar label="{{this.gameInfo.players.playerTwo.username[0].toUpperCase()}}" size="xlarge" shape="circle"></p-avatar>
        <span><b>{{this.gameInfo.players.playerOne.username}}</b></span>
      </div>
    </div>

    <div class="game-information-container">
      <div class="game-information-container-controls p-fluid">
          <p-selectButton [options]="gameInfoControls" optionLabel="name" optionValue="value" [(ngModel)]="this.isChat"></p-selectButton>
      </div>

      <div class="game-information-chat-container" [hidden]="!this.isChat">
        <app-chat [room]="this.gameInfo.room" [shouldDisplayTimestamps]="false" [username]="this.userInfo.username"></app-chat>
      </div>

      <div class="moves-table" [hidden]="this.isChat">
        <p-table  [value]="this.moves" styleClass="p-datatable-sm" 
                  [scrollable]="true" scrollHeight="flex"
        >
          <ng-template pTemplate="header">
            <tr>
              <th>User</th>
              <th>Move</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-move>
            <tr>
              <td>{{move.username}}</td>
              <td>{{move | chessNotation}} </td>
            </tr>
          </ng-template>
        </p-table>
      </div>

    </div>
  </div>
</div>
